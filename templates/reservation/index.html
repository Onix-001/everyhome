{% extends 'base/base.html' %}
{% load static %}

{% block title %}Réservations — EveryHome{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'assets/vendors/mdi/css/materialdesignicons.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
<link rel="stylesheet" href="{% static 'css/reservation.css' %}" />

<!-- NAVBAR -->
<header class="navbar">
    <div class="nav-content">
        <button id="sidebarToggle" class="sidebar-toggle">
            <i class="mdi mdi-menu"></i>
        </button>

        <div class="logo">
            <a href="{% url 'accueil:home' %}">
                <img src="{% static 'img/logo every home blanc.png' %}" alt="EveryHome">
            </a>
            Every<span>Home</span>
        </div>
    </div>
</header>

<!-- SIDEBAR -->
<aside class="sidebar">
    <ul class="nav">
        <li class="nav-item">
            <a href="{% url 'dashboard:dashboard' %}" class="nav-link">
                <i class="mdi mdi-view-dashboard"></i><span>Dashboard</span>
            </a>
        </li>

        <li class="nav-item">
            <a href="{% url 'logement:index' %}" class="nav-link">
                <i class="mdi mdi-home-city"></i><span>Logements</span>
            </a>
        </li>

        <li class="nav-item active">
            <a href="{% url 'reservation:index' %}" class="nav-link">
                <i class="mdi mdi-calendar-check"></i><span>Réservations</span>
            </a>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link">
                <i class="mdi mdi-cash-multiple"></i><span>Paiements</span>
            </a>
        </li>

        <li class="nav-item">
            <a href="{% url 'account:gesuser' %}" class="nav-link">
                <i class="mdi mdi-account-group"></i><span>Clients</span>
            </a>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link text-danger">
                <i class="mdi mdi-logout"></i><span>Déconnexion</span>
            </a>
        </li>
    </ul>
</aside>



<!-- MAIN CONTENT -->
<main class="main-panel">
    <button type="button" class="btn btn-inverse-success btn-icon" title="Ajouter un Utilisateur" onclick="window.location.href='{% url 'account:create' %}';">
        <i class="mdi mdi-account-plus "></i>
    </button>
    &nbsp;
    <div class="content-wrapper">
        
        <!-- TITRE -->
        <div class="page-header">
            <h3 class="page-title">Gestion des Réservations</h3>
        </div>

        <!-- STATS -->
        <div class="row mb-4" style="width: 1160PX;">
            <div class="col-md-3">
                <div class="card bg-primary text-white">
                    <div class="card-body">
                        <h5>Total</h5>
                        <h3>124</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card bg-success text-white">
                    <div class="card-body">
                        <h5>Confirmées</h5>
                        <h3>78</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card bg-warning text-white">
                    <div class="card-body">
                        <h5>En attente</h5>
                        <h3>32</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card bg-danger text-white">
                    <div class="card-body">
                        <h5>Annulées</h5>
                        <h3>14</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- FILTRES -->
        <div class="card mb-4" style="width: 1100px;">
            <div class="card-body">
                <form class="row g-3">
                    <div class="col-md-3">
                        <label>Client</label>
                        <input class="form-control" placeholder="Nom du client">
                    </div>

                    <div class="col-md-3">
                        <label>Statut</label>
                        <select class="form-control">
                            <option>Tous</option>
                            <option>Confirmée</option>
                            <option>En attente</option>
                            <option>Annulée</option>
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label>Date début</label>
                        <input type="date" class="form-control">
                    </div>

                    <div class="col-md-3">
                        <label>Date fin</label>
                        <input type="date" class="form-control">
                    </div>

                    <div class="col-12 text-end">
                        <button class="btn btn-primary" style="padding: 2px; width: 90px;">
                            <i class="mdi mdi-filter"></i> Filtrer
                        </button>
                        <button class="btn btn-light" style="padding: 3px; width: 110px;">
                            <i class="mdi mdi-refresh"></i>Réinitialiser
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- TABLE -->
        <div class="card" style="width: 1100px;">
            <div class="card-body">
                <h4 class="card-title">Liste des réservations</h4>

                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead>
                            <tr>
                                <th>Client</th>
                                <th>Logement</th>
                                <th>Dates</th>
                                <th>Montant</th>
                                <th>Statut</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Jean Dupont</td>
                                <td>Appartement Bonapriso</td>
                                <td>12 → 18 Juin</td>
                                <td>210 000 FCFA</td>
                                <td><span class="badge badge-success">Confirmée</span></td>
                                <td>
                                    <button class="btn btn-sm btn-info" title="détails"  onclick="window.location.href='{% url 'reservation:detail' %}';"><i class="mdi mdi-eye"></i></button>
                                    <button class="btn btn-sm btn-danger"><i class="mdi mdi-close"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- PAGINATION -->
                <nav class="mt-3">
                    <ul class="pagination justify-content-end">
                        <li class="page-item disabled"><a class="page-link">Précédent</a></li>
                        <li class="page-item active"><a class="page-link">1</a></li>
                        <li class="page-item"><a class="page-link">2</a></li>
                        <li class="page-item"><a class="page-link">Suivant</a></li>
                    </ul>
                </nav>

            </div>
        </div>

    </div>
</main>


<script src="{% static 'js/dashboard.js' %}"></script>


{% endblock %}
